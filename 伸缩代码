<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>伸缩代码</title>
<style>
	div{width:100px;height:50px;background: red;margin: 10px;border:#000000 solid 1px;}
</style>

/*<script type="text/javascript" src="move.js"></script>*/

<script>
	window.onload=function()
	{
		var aDiv=document.getElementsByTagName('div');
		for (var i=0;i<aDiv.length;i++){
			aDiv[i].index=i;
			aDiv[i].timer=null;
			aDiv[i].onmouseover=function(){
				startMove(this,400,'width');
				aDiv[this.index].style.background='yellow';
				
			};
			aDiv[i].onmouseout=function(){
				startMove(this, 100,'width');
				aDiv[this.index].style.background='red';
			}
		};
	};
	//var timer=null;
	function startMove(obj,iTarget,cuy)
	{
	  clearInterval(obj.timer);
    obj.timer=setInterval(function()
	{
		var cur=parseInt(getComputedStyle(obj,false)[cuy]);
		var speed=(iTarget-cur)/6;
		speed=speed>0?Math.ceil(speed):Math.floor(speed);
		
		
		if( cur==iTarget)
			{
				clearInterval(obj.timer)
			}
		else
			{
				obj.style[cuy]=cur+speed+'px'; 
			}
		
	},30);
	}
	
</script>
</head>

<body>
<div></div>
<div></div>
<div></div>
</body>
</html>
